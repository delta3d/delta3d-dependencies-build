<html>
  <head>
    <title>coresubmesh.h Source File</title>
    <link href="doxygen.css" rel="stylesheet" type="text/css">
  </head>
<body bgcolor="#ffffff">
  <table width="100%" border="0" cellspacing="0" cellpadding="5" align="center">
    <tr>
      <td class="md" align="center">
        <small>
          <b>- Cal3D 0.9 API Reference -</b>
        </small>
      </td>
    </tr>
  </table>
  <br>

<!-- Generated by Doxygen 1.3.6 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>coresubmesh.h</h1><div class="fragment"><pre>00001 <span class="comment">//****************************************************************************//</span>
00002 <span class="comment">// coresubmesh.h                                                              //</span>
00003 <span class="comment">// Copyright (C) 2001, 2002 Bruno 'Beosil' Heidelberger                       //</span>
00004 <span class="comment">//****************************************************************************//</span>
00005 <span class="comment">// This library is free software; you can redistribute it and/or modify it    //</span>
00006 <span class="comment">// under the terms of the GNU Lesser General Public License as published by   //</span>
00007 <span class="comment">// the Free Software Foundation; either version 2.1 of the License, or (at    //</span>
00008 <span class="comment">// your option) any later version.                                            //</span>
00009 <span class="comment">//****************************************************************************//</span>
00010 
00011 <span class="preprocessor">#ifndef CAL_CORESUBMESH_H</span>
00012 <span class="preprocessor"></span><span class="preprocessor">#define CAL_CORESUBMESH_H</span>
00013 <span class="preprocessor"></span>
00014 <span class="comment">//****************************************************************************//</span>
00015 <span class="comment">// Includes                                                                   //</span>
00016 <span class="comment">//****************************************************************************//</span>
00017 
00018 <span class="preprocessor">#include "cal3d/global.h"</span>
00019 <span class="preprocessor">#include "cal3d/vector.h"</span>
00020 
00021 <span class="comment">//****************************************************************************//</span>
00022 <span class="comment">// Forward declarations                                                       //</span>
00023 <span class="comment">//****************************************************************************//</span>
00024 
00025 <span class="keyword">class </span><a class="code" href="classCalCoreSubMorphTarget.html">CalCoreSubMorphTarget</a>;
00026 
00027 <span class="comment">//****************************************************************************//</span>
00028 <span class="comment">// Class declaration                                                          //</span>
00029 <span class="comment">//****************************************************************************//</span>
00030 
00031  <span class="comment">/*****************************************************************************/</span>
<a name="l00035"></a><a class="code" href="classCalCoreSubmesh.html">00035</a> <span class="keyword">class </span>CAL3D_API CalCoreSubmesh
00036 {
00037 <span class="comment">// misc</span>
00038 <span class="keyword">public</span>:
<a name="l00040"></a><a class="code" href="structCalCoreSubmesh_1_1TextureCoordinate.html">00040</a>   <span class="keyword">typedef</span> <span class="keyword">struct</span>
00041 <span class="keyword">  </span>{
00042     <span class="keywordtype">float</span> u, v;
00043   } <a class="code" href="structCalCoreSubmesh_1_1TextureCoordinate.html">TextureCoordinate</a>;
00044 
00045   <span class="keyword">typedef</span> <span class="keyword">struct </span>
00046 <span class="keyword">  </span>{
00047     <a class="code" href="classCalVector.html">CalVector</a> tangent;
00048     <span class="keywordtype">float</span> crossFactor;  <span class="comment">// To get the binormal, use ((N x T) * crossFactor)</span>
00049   } TangentSpace;
00050 
00051 
<a name="l00053"></a><a class="code" href="structCalCoreSubmesh_1_1Influence.html">00053</a>   <span class="keyword">typedef</span> <span class="keyword">struct</span>
00054 <span class="keyword">  </span>{
00055     <span class="keywordtype">int</span> boneId;
00056     <span class="keywordtype">float</span> weight;
00057   } <a class="code" href="structCalCoreSubmesh_1_1Influence.html">Influence</a>;
00058 
<a name="l00060"></a><a class="code" href="structCalCoreSubmesh_1_1PhysicalProperty.html">00060</a>   <span class="keyword">typedef</span> <span class="keyword">struct</span>
00061 <span class="keyword">  </span>{
00062     <span class="keywordtype">float</span> weight;
00063   } <a class="code" href="structCalCoreSubmesh_1_1PhysicalProperty.html">PhysicalProperty</a>;
00064 
<a name="l00066"></a><a class="code" href="structCalCoreSubmesh_1_1Vertex.html">00066</a>   <span class="keyword">typedef</span> <span class="keyword">struct</span>
00067 <span class="keyword">  </span>{
00068     <a class="code" href="classCalVector.html">CalVector</a> position;
00069     <a class="code" href="classCalVector.html">CalVector</a> normal;
00070     std::vector&lt;Influence&gt; vectorInfluence;
00071     <span class="keywordtype">int</span> collapseId;
00072     <span class="keywordtype">int</span> faceCollapseCount;
00073   } <a class="code" href="structCalCoreSubmesh_1_1Vertex.html">Vertex</a>;
00074 
<a name="l00076"></a><a class="code" href="structCalCoreSubmesh_1_1Face.html">00076</a>   <span class="keyword">typedef</span> <span class="keyword">struct</span>
00077 <span class="keyword">  </span>{
00078       CalIndex vertexId[3];
00079   } <a class="code" href="structCalCoreSubmesh_1_1Face.html">Face</a>;
00080   
<a name="l00082"></a><a class="code" href="structCalCoreSubmesh_1_1Spring.html">00082</a>   <span class="keyword">typedef</span> <span class="keyword">struct</span>
00083 <span class="keyword">  </span>{
00084     <span class="keywordtype">int</span> vertexId[2];
00085     <span class="keywordtype">float</span> springCoefficient;
00086     <span class="keywordtype">float</span> idleLength;
00087   } <a class="code" href="structCalCoreSubmesh_1_1Spring.html">Spring</a>;
00088 
00089 <span class="comment">// member variables</span>
00090 <span class="keyword">protected</span>:
00091   std::vector&lt;Vertex&gt; m_vectorVertex;
00092   std::vector&lt;bool&gt; m_vectorTangentsEnabled;
00093   std::vector&lt;std::vector&lt;TangentSpace&gt; &gt; m_vectorvectorTangentSpace;
00094   std::vector&lt;std::vector&lt;TextureCoordinate&gt; &gt; m_vectorvectorTextureCoordinate;
00095   std::vector&lt;PhysicalProperty&gt; m_vectorPhysicalProperty;
00096   std::vector&lt;Face&gt; m_vectorFace;
00097   std::vector&lt;Spring&gt; m_vectorSpring;
00098   std::vector&lt;CalCoreSubMorphTarget *&gt; m_vectorCoreSubMorphTarget;
00099   <span class="keywordtype">int</span> m_coreMaterialThreadId;
00100   <span class="keywordtype">int</span> m_lodCount;
00101 
00102 <span class="comment">// constructors/destructor</span>
00103 <span class="keyword">public</span>:
00104   CalCoreSubmesh();
00105   <span class="keyword">virtual</span> ~CalCoreSubmesh();
00106 
00107 <span class="comment">// member functions </span>
00108 <span class="keyword">public</span>:
00109   <span class="keywordtype">bool</span> create();
00110   <span class="keywordtype">void</span> destroy();
00111   <span class="keywordtype">int</span> getCoreMaterialThreadId();
00112   <span class="keywordtype">int</span> getFaceCount();
00113   <span class="keywordtype">int</span> getLodCount();
00114   <span class="keywordtype">int</span> getSpringCount();
00115   std::vector&lt;Face&gt;&amp; getVectorFace();
00116   std::vector&lt;PhysicalProperty&gt;&amp; getVectorPhysicalProperty();
00117   std::vector&lt;Spring&gt;&amp; getVectorSpring();
00118   std::vector&lt;std::vector&lt;TangentSpace&gt; &gt;&amp; getVectorVectorTangentSpace();
00119   std::vector&lt;std::vector&lt;TextureCoordinate&gt; &gt;&amp; getVectorVectorTextureCoordinate();
00120   std::vector&lt;Vertex&gt;&amp; getVectorVertex();
00121   <span class="keywordtype">int</span> getVertexCount();
00122   <span class="keywordtype">bool</span> isTangentsEnabled(<span class="keywordtype">int</span> mapId);
00123   <span class="keywordtype">bool</span> enableTangents(<span class="keywordtype">int</span> mapId, <span class="keywordtype">bool</span> enabled);
00124   <span class="keywordtype">bool</span> reserve(<span class="keywordtype">int</span> vertexCount, <span class="keywordtype">int</span> textureCoordinateCount, <span class="keywordtype">int</span> faceCount, <span class="keywordtype">int</span> springCount);
00125   <span class="keywordtype">void</span> setCoreMaterialThreadId(<span class="keywordtype">int</span> coreMaterialThreadId);
00126   <span class="keywordtype">bool</span> setFace(<span class="keywordtype">int</span> faceId, <span class="keyword">const</span> <a class="code" href="structCalCoreSubmesh_1_1Face.html">Face</a>&amp; face);
00127   <span class="keywordtype">void</span> setLodCount(<span class="keywordtype">int</span> lodCount);
00128   <span class="keywordtype">bool</span> setPhysicalProperty(<span class="keywordtype">int</span> vertexId, <span class="keyword">const</span> <a class="code" href="structCalCoreSubmesh_1_1PhysicalProperty.html">PhysicalProperty</a>&amp; physicalProperty);
00129   <span class="keywordtype">bool</span> setSpring(<span class="keywordtype">int</span> springId, <span class="keyword">const</span> <a class="code" href="structCalCoreSubmesh_1_1Spring.html">Spring</a>&amp; spring);
00130   <span class="keywordtype">bool</span> setTangentSpace(<span class="keywordtype">int</span> vertexId, <span class="keywordtype">int</span> textureCoordinateId, <span class="keyword">const</span> <a class="code" href="classCalVector.html">CalVector</a>&amp; tangent, <span class="keywordtype">float</span> crossFactor);
00131   <span class="keywordtype">bool</span> setTextureCoordinate(<span class="keywordtype">int</span> vertexId, <span class="keywordtype">int</span> textureCoordinateId, <span class="keyword">const</span> <a class="code" href="structCalCoreSubmesh_1_1TextureCoordinate.html">TextureCoordinate</a>&amp; textureCoordinate);
00132   <span class="keywordtype">bool</span> setVertex(<span class="keywordtype">int</span> vertexId, <span class="keyword">const</span> <a class="code" href="structCalCoreSubmesh_1_1Vertex.html">Vertex</a>&amp; vertex);
00133   <span class="keywordtype">int</span> addCoreSubMorphTarget(<a class="code" href="classCalCoreSubMorphTarget.html">CalCoreSubMorphTarget</a> *pCoreSubMorphTarget);
00134   <a class="code" href="classCalCoreSubMorphTarget.html">CalCoreSubMorphTarget</a> *getCoreSubMorphTarget(<span class="keywordtype">int</span> <span class="keywordtype">id</span>);
00135   <span class="keywordtype">int</span> getCoreSubMorphTargetCount();
00136   std::vector&lt;CalCoreSubMorphTarget *&gt;&amp; getVectorCoreSubMorphTarget();
00137 <span class="keyword">protected</span>:
00138   <span class="keywordtype">void</span> UpdateTangentVector(<span class="keywordtype">int</span> v0, <span class="keywordtype">int</span> v1, <span class="keywordtype">int</span> v2, <span class="keywordtype">int</span> channel);
00139 };
00140 
00141 <span class="preprocessor">#endif</span>
00142 <span class="preprocessor"></span>
00143 <span class="comment">//****************************************************************************//</span>
</pre></div>  <hr>
  <center>
    <small>
      Generated at Wed Apr 7 16:57:16 2004 by
      <a href="http://cal3d.sourceforge.net">The Cal3D Team</a>
      with
      <a href="http://www.doxygen.org/index.html">
        <img src="doxygen.gif" alt="doxygen" align="middle" border=0 width=110 height=53>
      </a>
      1.3.6
      &copy;&nbsp;1997-2001
      <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>
    </small>
  </center>
</body>
</html>

